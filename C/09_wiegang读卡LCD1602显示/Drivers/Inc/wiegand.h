/*******************************************************************************
 *名称：weigand.h
 *功能：weigand.c的头文件
 *******************************************************************************/
#ifndef __WEIGAND_H
#define __WEIGAND_H

/*******************************************************************************
 *包含头文件
 *******************************************************************************/
#include <REGX52.H>

/*******************************************************************************
 *重定义关键词
 *******************************************************************************/
#ifndef uchar
#define uchar unsigned char
#endif

#ifndef uint
#define uint unsigned int
#endif

/*******************************************************************************
 *定义韦根卡的一个结构体
 *******************************************************************************/
struct wiegand_dev
{
        unsigned char wiegand[26]; // 定义Weigand  26Bits 数据
        unsigned char state;
        unsigned int global_var; // 全局计数器 计数组长度
};
static struct wiegand_dev *rf_card;
/*结构体，左边指针用->，左边变量用.*/

/*******************************************************************************
 *PIN口定义
 *******************************************************************************/
sbit DATA0 = P3 ^ 2; //数据线0
sbit DATA1 = P3 ^ 3; //数据线1

/*******************************************************************************
 *函数声明
 *******************************************************************************/
/*在51单片机12MHZ时钟下的延时函数*/
void udelay(uint num);
/*中断初始化*/
void initial(void);
/*韦根卡数据0中断处理*/
void Wiegand_Data0();
/*韦根卡数据1中断处理*/
void Wiegand_Data1();

#endif /* __WEIGANd_H */