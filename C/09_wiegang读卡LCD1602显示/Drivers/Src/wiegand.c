/******************************************************************************
 *实现wiegand的读取功能
 ******************************************************************************/
#include "wiegand.h"

/******************************************************************************
 *函数名称：initial(void)
 *函数功能：中断初始化
 *入口函数：无
 *出口函数：无
 ******************************************************************************/
void initial(void)
{
    IT0 = 0; // Wiegand-Data0        低电平触发中断
    EX0 = 1; //外部中断0允许
    IT1 = 0; // Wiegand-Data1 低电平触发中断
    EX1 = 1; //外部中断1允许
    EA = 1;  //开CPU中断
}

/******************************************************************************
 *函数名称：udelay(uint num)
 *函数功能：延时函数 延时num  us
 *入口函数：num
 *出口函数：无
 ******************************************************************************/
void udelay(uint num) // 假如用51用12m晶振
{
    while (--num)
        ;
}